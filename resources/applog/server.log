{"level":"info","ts":"2024-12-27T16:55:35.673+0800","msg":"AccessLog","type":"access_start","ip":"127.0.0.1","method":"GET","path":"/building/response-list","query":"","body":"","output":null,"time(ms)":0,"traceid":"6a2c8b01157c645a","spanid":"6a2c8b01157c645a","pspanid":"","func":"github.com/ljinf/template_project/internal/middleware.accessLog","file":"infrastructure.go","line":80}
{"level":"info","ts":"2024-12-27T16:55:35.679+0800","msg":"AccessLog","type":"access_end","ip":"127.0.0.1","method":"GET","path":"/building/response-list","query":"","body":"","output":"{\"code\":0,\"msg\":\"success\",\"request_id\":\"6a2c8b01157c645a\",\"data\":[{\"name\":\"Lily\",\"age\":26},{\"name\":\"Violet\",\"age\":25}],\"pagination\":{\"page\":1,\"page_size\":20,\"total_rows\":2}}","time(ms)":6,"traceid":"6a2c8b01157c645a","spanid":"6a2c8b01157c645a","pspanid":"","func":"github.com/ljinf/template_project/internal/middleware.accessLog","file":"infrastructure.go","line":80}
{"level":"info","ts":"2024-12-27T17:22:44.758+0800","msg":"AccessLog","type":"access_start","ip":"127.0.0.1","method":"GET","path":"/building/response-list","query":"","body":"","output":null,"time(ms)":0,"traceid":"1d4236995a5c5dfa","spanid":"1d4236995a5c5dfa","pspanid":"","func":"github.com/ljinf/template_project/internal/middleware.accessLog","file":"infrastructure.go","line":80}
{"level":"info","ts":"2024-12-27T17:22:44.767+0800","msg":"AccessLog","type":"access_end","ip":"127.0.0.1","method":"GET","path":"/building/response-list","query":"","body":"","output":"{\"code\":0,\"msg\":\"success\",\"request_id\":\"1d4236995a5c5dfa\",\"data\":[{\"name\":\"Lily\",\"age\":26},{\"name\":\"Violet\",\"age\":25}],\"pagination\":{\"page\":1,\"page_size\":20,\"total_rows\":2}}","time(ms)":8,"traceid":"1d4236995a5c5dfa","spanid":"1d4236995a5c5dfa","pspanid":"","func":"github.com/ljinf/template_project/internal/middleware.accessLog","file":"infrastructure.go","line":80}
{"level":"info","ts":"2024-12-27T17:25:43.466+0800","msg":"AccessLog","type":"access_start","ip":"127.0.0.1","method":"GET","path":"/building/panic-log-test","query":"","body":"","output":null,"time(ms)":0,"traceid":"811206ed6d7b4a37","spanid":"811206ed6d7b4a37","pspanid":"","func":"github.com/ljinf/template_project/internal/middleware.accessLog","file":"infrastructure.go","line":80}
{"level":"error","ts":"2024-12-27T17:25:43.467+0800","msg":"http_request_panic","path":"/building/panic-log-test","error":"assignment to entry in nil map","request":"GET /building/panic-log-test HTTP/1.1\r\nHost: 127.0.0.1:8080\r\nAccept: */*\r\nAccept-Encoding: gzip, deflate, br\r\nCache-Control: no-cache\r\nConnection: close\r\nUser-Agent: PostmanRuntime-ApipostRuntime/1.1.0\r\n\r\n","stack":"goroutine 27 [running]:\nruntime/debug.Stack()\n\tC:/Users/admin/sdk/go1.20/src/runtime/debug/stack.go:24 +0x7a\ngithub.com/ljinf/template_project/internal/middleware.GinPanicRecovery.func1.1()\n\tD:/teset/template_project/internal/middleware/infrastructure.go:118 +0x5a5\npanic({0x7da080, 0x8de530})\n\tC:/Users/admin/sdk/go1.20/src/runtime/panic.go:890 +0x262\ngithub.com/ljinf/template_project/internal/logic/controller.TestPanicLog(0xc0000a0200)\n\tD:/teset/template_project/internal/logic/controller/building.go:48 +0x45\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0000a0200)\n\tC:/Users/admin/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 +0x7d\ngithub.com/ljinf/template_project/internal/middleware.GinPanicRecovery.func1(0xc0000a0200)\n\tD:/teset/template_project/internal/middleware/infrastructure.go:123 +0x65\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0000a0200)\n\tC:/Users/admin/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 +0x7d\ngithub.com/ljinf/template_project/internal/middleware.LogAccess.func1(0xc0000a0200)\n\tD:/teset/template_project/internal/middleware/infrastructure.go:66 +0x433\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0000a0200)\n\tC:/Users/admin/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 +0x7d\ngithub.com/ljinf/template_project/internal/middleware.StartTrace.func1(0xc0000a0200)\n\tD:/teset/template_project/internal/middleware/infrastructure.go:34 +0x1a6\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0000a0200)\n\tC:/Users/admin/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 +0x7d\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0006841a0, 0xc0000a0200)\n\tC:/Users/admin/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 +0x434\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0006841a0, {0x8e23c0, 0xc0001862a0}, 0xc0000a0300)\n\tC:/Users/admin/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 +0xc5\nnet/http.serverHandler.ServeHTTP({0xc0000a2000}, {0x8e23c0, 0xc0001862a0}, 0xc0000a0300)\n\tC:/Users/admin/sdk/go1.20/src/net/http/server.go:2936 +0x494\nnet/http.(*conn).serve(0xc000182240, {0x8e29a8, 0xc0000be190})\n\tC:/Users/admin/sdk/go1.20/src/net/http/server.go:1995 +0x19b5\ncreated by net/http.(*Server).Serve\n\tC:/Users/admin/sdk/go1.20/src/net/http/server.go:3089 +0xa16\n","traceid":"811206ed6d7b4a37","spanid":"811206ed6d7b4a37","pspanid":"","func":"github.com/ljinf/template_project/internal/middleware.GinPanicRecovery.func1.1","file":"infrastructure.go","line":118}
{"level":"info","ts":"2024-12-27T17:25:43.468+0800","msg":"AccessLog","type":"access_end","ip":"127.0.0.1","method":"GET","path":"/building/panic-log-test","query":"","body":"","output":"","time(ms)":1,"traceid":"811206ed6d7b4a37","spanid":"811206ed6d7b4a37","pspanid":"","func":"github.com/ljinf/template_project/internal/middleware.accessLog","file":"infrastructure.go","line":80}
